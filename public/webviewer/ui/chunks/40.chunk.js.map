{"version":3,"sources":["webpack:///./src/ui/src/constants/dnd.js","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss?17dd","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss?2e51","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss","webpack:///./src/ui/src/components/Outline/Outline.scss?a897","webpack:///./src/ui/src/components/Outline/Outline.scss","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss?71a9","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss","webpack:///./src/ui/src/components/Outline/Context.js","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.js","webpack:///./src/ui/src/components/OutlineControls/index.js","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.js","webpack:///./src/ui/src/components/OutlineContent/index.js","webpack:///./src/ui/src/components/Outline/Outline.js","webpack:///./src/ui/src/components/Outline/index.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesDragLayer.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.js","webpack:///./src/ui/src/components/OutlinesPanel/index.js"],"names":["ItemTypes","OUTLINE","PORTFOLIO","DropLocation","ON_TARGET_HORIZONTAL_MIDPOINT","ABOVE_TARGET","BELOW_TARGET","INITIAL","BUFFER_ROOM","api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","OutlineContext","React","createContext","OutlineControls","outlines","useSelector","state","selectors","getOutlines","useContext","activeOutlinePath","setActiveOutlinePath","updateOutlines","useState","up","down","outward","inward","canMove","setCanMove","nextIndexRef","useRef","t","useTranslation","useEffect","core","isFullPDFEnabled","outlineUtils","getCanMoveState","setCanMoveState","current","moveOutlineUp","nextIndex","moveOutlineDown","moveOutlineOutward","moveOutlineInward","DataElementWrapper","className","dataElement","DataElements","OUTLINE_CONTROLS","Button","img","disabled","onClick","OUTLINE_MOVE_UP_BUTTON","OUTLINE_MOVE_DOWN_BUTTON","OUTLINE_MOVE_OUTWARD_BUTTON","OUTLINE_MOVE_INWARD_BUTTON","propTypes","text","PropTypes","string","isRequired","outlinePath","isAdding","bool","isOutlineRenaming","setOutlineRenaming","func","isOutlineChangingDest","setOutlineChangingDest","setIsHovered","onCancel","textColor","OutlineContent","currentDestPage","currentDestText","editingOutlines","setEditingOutlines","isMultiSelectMode","isOutlineEditable","addNewOutline","renameOutline","updateOutlineDest","removeOutlines","customizableUI","getFeatureFlags","shallowEqual","isDefault","setIsDefault","outlineText","setOutlineText","isContextMenuOpen","setContextMenuOpen","isRenaming","setIsRenaming","inputRef","onAddOutline","trim","onRenameOutline","onCancelOutline","isRenameButtonDisabled","focus","select","editingOutlinesClone","isOutlineEditing","textStyle","color","onDoubleClick","style","classNames","tabIndex","e","stopPropagation","MoreOptionsContextMenuPopup","type","anchorButton","shouldDisplayDeleteButton","onClosePopup","onRenameClick","onSetDestinationClick","setToolMode","onDeleteClick","name","ref","placeholder","aria-label","value","onKeyDown","key","onChange","target","fontStyle","label","isSubmitType","outline","object","setMultiSelected","moveOutlineBeforeTarget","moveOutlineAfterTarget","connectDragSource","connectDragPreview","connectDropTarget","isDragging","isDraggedUpwards","isDraggedDownwards","Outline","forwardRef","isOutlineActive","setAddingNewOutline","isAddingNewOutline","isAnyOutlineRenaming","shouldAutoExpandOutlines","selectedOutlines","getPath","isExpanded","setIsExpanded","includes","isSelected","setIsSelected","isChangingDest","setChangingDest","isHovered","setHovered","undefined","clearSingleClick","setClearSingleClick","dispatch","useDispatch","elementRef","getEmptyImage","captureDraggingState","opacity","useImperativeHandle","getNode","startsWith","useLayoutEffect","rgbObject","rValue","gValue","bValue","toggleOutline","useCallback","expand","onSingleClick","goToOutline","isMobile","actions","closeElement","isActive","detail","setTimeout","clearTimeout","Choice","id","checked","expanded","marginLeft","getNestedLevel","display","getChildren","getName","map","child","OutlineNested","getOutlineId","DropTarget","hover","props","dropTargetMonitor","dropTargetContainer","dragObject","getItem","dragOutline","dragSourceNode","dropOutline","dropTargetNode","contains","dropLocation","dragIndex","index","hoverIndex","parent","dropTargetBoundingRect","getBoundingClientRect","dropTargetVerticalMiddlePoint","bottom","top","dropTargetClientY","getClientOffset","y","isOver","shallow","classList","add","remove","fireEvent","Events","DRAG_OUTLINE","targetOutline","draggedOutline","drop","DROP_OUTLINE","connect","dropTargetState","dropTarget","DragSource","beginDrag","dragSourceMonitor","dragSourceContainer","sourceId","canDrag","isIE","console","warn","dragSourceState","dragSource","dragPreview","layerStyles","position","pointerEvents","zIndex","left","width","height","getItemStyles","initialOffset","currentOffset","x","transform","WebkitTransform","OutlinesDragLayer","useDragLayer","dragLayerState","itemType","getItemType","item","getInitialSourceClientOffset","renderDragItem","OutlinesPanel","isElementDisabled","OUTLINE_PANEL","isOutlineControlVisible","getOutlineEditingEnabled","getCurrentPage","getPageLabels","isDisabled","outlineControlVisibility","outlineEditingEnabled","currentPage","pageLabels","featureFlags","defaultDestText","areaDestinationText","defaultDestCoord","setCurrentDestText","currentDestCoord","setCurrentDestCoord","setCurrentDestPage","setOutlineEditable","setAnyOutlineRenaming","setMultiSelectMode","setSelectedOutlines","nextPathRef","TOOL_NAME","tool","getTool","panelRef","isAnyEditing","Object","values","some","onSetDestination","annotation","getCustomData","onOutlinesBookmarksChanged","setOutlines","onDocumentLoaded","addEventListener","removeEventListener","handlePanelClick","event","getCurrentDestViewerCoord","pageNum","getDocumentViewer","getDocument","getViewerCoordinates","outlineName","slice","doc","pageRotation","getPageRotation","Core","PageRotation","E_90","E_270","tmp","addRootOutline","clearOutlineDestination","defaultTool","setOutlineDestination","generalMoveOutlineAction","moveDirection","dragPath","dropPath","call","then","path","moveOutlineInTarget","newName","setOutlineName","outlinesToRemove","sort","reverse","confirmationWarning","message","title","confirmBtnText","onConfirm","fullIndex","deleteOutline","showWarningMessage","data-element","OUTLINE_MULTI_SELECT","Provider","DndProvider","backend","isMobileDevice","TouchBackEnd","HTML5Backend","find","filter","OUTLINE_ADD_NEW_BUTTON_CONTAINER","OUTLINE_ADD_NEW_BUTTON","memo"],"mappings":"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","file":"chunks/40.chunk.js","sourcesContent":["export const ItemTypes = {\n  OUTLINE: 'outline',\n  PORTFOLIO: 'portfolio',\n};\n\nexport const DropLocation = {\n  ON_TARGET_HORIZONTAL_MIDPOINT: 'onTargetHorizontalMidPoint',\n  ABOVE_TARGET: 'aboveTarget',\n  BELOW_TARGET: 'belowTarget',\n  INITIAL: 'initial',\n};\n\nexport const BUFFER_ROOM = 8;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Outline.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-right:var(--padding-small);min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:14px;height:auto}.outline-drag-line{margin-left:var(--padding);margin-right:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:\\\"\\\";display:block;position:absolute;width:5px;height:5px;top:-3px;left:0;background-color:var(--focus-border);border-radius:50%}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlinesPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.hover,.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.selected{border:1px solid var(--outline-selected-border)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen{display:flex}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-more-button.contextMenuOpen .Icon{color:var(--blue-5)}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default.hover:not(.selected),.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.default:hover:not(.selected){background:none}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container.focus-visible,.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container:focus-visible{outline:var(--focus-visible-outline)!important}.OutlinesPanel.modular-ui-panel .bookmark-outline-single-container .bookmark-outline-input:active{border-color:var(--focus-border)}.Panel.OutlinesPanel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}\", \"\"]);\n\n// exports\n","import React from 'react';\n\nconst OutlineContext = React.createContext();\n\nexport default OutlineContext;","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport OutlineContext from 'components/Outline/Context';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport selectors from 'selectors';\n\nimport './OutlineControls.scss';\nimport DataElements from 'src/constants/dataElement';\n\nconst OutlineControls = () => {\n  const outlines = useSelector((state) => selectors.getOutlines(state));\n  const {\n    activeOutlinePath,\n    setActiveOutlinePath,\n    updateOutlines\n  } = useContext(OutlineContext);\n  const [canMove, setCanMove] = useState({ up: false, down: false, outward: false, inward: false });\n  const nextIndexRef = useRef(null);\n  const [t] = useTranslation();\n\n  useEffect(() => {\n    if (!core.isFullPDFEnabled()) {\n      return;\n    }\n\n    const setCanMoveState = async () => {\n      setCanMove(await outlineUtils.getCanMoveState(activeOutlinePath));\n    };\n\n    setCanMoveState();\n  }, [activeOutlinePath]);\n\n  useEffect(() => {\n    if (nextIndexRef.current !== null) {\n      setActiveOutlinePath(nextIndexRef.current);\n      nextIndexRef.current = null;\n    }\n  }, [outlines, setActiveOutlinePath]);\n\n  const moveOutlineUp = async () => {\n    const nextIndex = await outlineUtils.moveOutlineUp(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineDown = async () => {\n    const nextIndex = await outlineUtils.moveOutlineDown(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineOutward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineOutward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineInward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineInward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  return (\n    <DataElementWrapper\n      className=\"OutlineControls\"\n      dataElement={DataElements.OUTLINE_CONTROLS}\n    >\n      <span className=\"reorderText\">\n        {t('option.bookmarkOutlineControls.reorder')}\n      </span>\n      <Button\n        img=\"icon-arrow-up\"\n        disabled={!canMove.up}\n        onClick={moveOutlineUp}\n        dataElement={DataElements.OUTLINE_MOVE_UP_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-down\"\n        disabled={!canMove.down}\n        onClick={moveOutlineDown}\n        dataElement={DataElements.OUTLINE_MOVE_DOWN_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-left\"\n        disabled={!canMove.outward}\n        onClick={moveOutlineOutward}\n        dataElement={DataElements.OUTLINE_MOVE_OUTWARD_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-right\"\n        disabled={!canMove.inward}\n        onClick={moveOutlineInward}\n        dataElement={DataElements.OUTLINE_MOVE_INWARD_BUTTON}\n      />\n    </DataElementWrapper>\n  );\n};\n\nexport default OutlineControls;\n","import OutlineControls from './OutlineControls';\n\nexport default OutlineControls;","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport core from 'core';\nimport selectors from 'selectors';\nimport classNames from 'classnames';\n\nimport Button from '../Button';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport OutlineContext from '../Outline/Context';\nimport './OutlineContent.scss';\nimport '../../constants/bookmarksOutlinesShared.scss';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  outlinePath: PropTypes.string,\n  isAdding: PropTypes.bool,\n  isOutlineRenaming: PropTypes.bool,\n  setOutlineRenaming: PropTypes.func,\n  isOutlineChangingDest: PropTypes.bool,\n  setOutlineChangingDest: PropTypes.func,\n  setIsHovered: PropTypes.func,\n  onCancel: PropTypes.func,\n  textColor: PropTypes.string,\n};\n\nconst OutlineContent = ({\n  text,\n  outlinePath,\n  isAdding,\n  isOutlineRenaming,\n  setOutlineRenaming,\n  isOutlineChangingDest,\n  setOutlineChangingDest,\n  setIsHovered,\n  onCancel,\n  textColor,\n}) => {\n  const {\n    currentDestPage,\n    currentDestText,\n    editingOutlines,\n    setEditingOutlines,\n    isMultiSelectMode,\n    isOutlineEditable,\n    addNewOutline,\n    renameOutline,\n    updateOutlineDest,\n    updateOutlines,\n    removeOutlines,\n  } = useContext(OutlineContext);\n\n  const featureFlags = useSelector((state) => selectors.getFeatureFlags(state), shallowEqual);\n  const customizableUI = featureFlags.customizableUI;\n\n  const [t] = useTranslation();\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n\n  const [isDefault, setIsDefault] = useState(false);\n  const [outlineText, setOutlineText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const [isRenaming, setIsRenaming] = useState(false);\n  const inputRef = useRef();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddOutline();\n      }\n      if (isOutlineRenaming && !isRenameButtonDisabled()) {\n        onRenameOutline();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelOutline();\n    }\n  };\n\n  const onAddOutline = () => {\n    addNewOutline(outlineText.trim() === '' ? '' : outlineText);\n  };\n\n  const onRenameOutline = () => {\n    setOutlineRenaming(false);\n    setIsRenaming(false);\n    renameOutline(outlinePath, outlineText);\n  };\n\n  const onCancelOutline = () => {\n    updateOutlines();\n    if (isOutlineRenaming) {\n      setOutlineRenaming(false);\n      setIsRenaming(false);\n      setOutlineText(text);\n    }\n    if (isOutlineChangingDest) {\n      setOutlineChangingDest(false);\n    }\n    if (isAdding) {\n      onCancel();\n    }\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !outlineText || text === outlineText;\n  };\n\n  useEffect(() => {\n    if (outlineText !== text) {\n      setOutlineText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isOutlineRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isOutlineRenaming && !isOutlineChangingDest);\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    const editingOutlinesClone = { ...editingOutlines };\n    const isOutlineEditing = isOutlineRenaming || isOutlineChangingDest;\n    if (isOutlineEditing) {\n      editingOutlinesClone[outlinePath] = (isOutlineEditing);\n    } else {\n      delete editingOutlinesClone[outlinePath];\n    }\n    setEditingOutlines({ ...editingOutlinesClone });\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  const textStyle = {\n    color: textColor || 'auto'\n  };\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.newOutlineTitle')}\n        </div>\n      }\n      {isRenaming &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.outlineTitle')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n            onDoubleClick={() => {\n              if (isOutlineEditable) {\n                setOutlineRenaming(true);\n                setIsRenaming(true);\n              }\n            }}\n            style={textStyle}\n          >\n            {text}\n          </div>\n\n          {isOutlineEditable &&\n            <Button\n              className={classNames({\n                'bookmark-outline-more-button': true,\n                'contextMenuOpen': isContextMenuOpen\n              })}\n              dataElement={`outline-more-button-${outlinePath}`}\n              img=\"icon-tool-more\"\n              tabIndex={-1}\n              onClick={(e) => {\n                e.stopPropagation();\n                setContextMenuOpen(true);\n              }}\n            />\n          }\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'outline'}\n              anchorButton={`outline-more-button-${outlinePath}`}\n              shouldDisplayDeleteButton={!isMultiSelectMode}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setOutlineRenaming(true);\n                setIsRenaming(true);\n              }}\n              onSetDestinationClick={() => {\n                setContextMenuOpen(false);\n                setOutlineChangingDest(true);\n                core.setToolMode(TOOL_NAME);\n              }}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removeOutlines([outlinePath]);\n              }}\n            />\n          }\n        </>\n      }\n\n      {isOutlineChangingDest &&\n        <div\n          className=\"bookmark-outline-text outline-text\"\n          style={textStyle}\n        >\n          {text}\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming) &&\n        <input\n          type=\"text\"\n          name=\"outline\"\n          ref={inputRef}\n          className=\"bookmark-outline-input\"\n          placeholder={customizableUI ? '' : t('component.outlineTitle')}\n          aria-label={t('action.name')}\n          value={outlineText}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => setOutlineText(e.target.value)}\n        />\n      }\n\n      {(isAdding || isRenaming || isOutlineChangingDest) &&\n        <div className=\"outline-destination\">\n          {t('component.destination')}: {t('component.bookmarkPage')} {currentDestPage},\n          <span style={{ fontStyle: 'italic' }}> {currentDestText}</span>\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming || isOutlineChangingDest) &&\n        <div className=\"bookmark-outline-editing-controls\">\n          <Button\n            className=\"bookmark-outline-cancel-button\"\n            label={t('action.cancel')}\n            onClick={onCancelOutline}\n          />\n          {isAdding &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.add')}\n              isSubmitType={true}\n              onClick={onAddOutline}\n            />\n          }\n          {isOutlineRenaming &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              disabled={isRenameButtonDisabled()}\n              onClick={onRenameOutline}\n            />\n          }\n          {isOutlineChangingDest &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              onClick={() => {\n                setOutlineChangingDest(false);\n                updateOutlineDest(outlinePath);\n              }}\n            />\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nOutlineContent.propTypes = propTypes;\n\nexport default OutlineContent;\n","import OutlineContent from './OutlineContent';\n\nexport default OutlineContent;\n","import React, { useState, useCallback, useContext, useEffect, useLayoutEffect, forwardRef, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport Events from 'constants/events';\nimport fireEvent from 'helpers/fireEvent';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { isMobile, isIE } from 'helpers/device';\nimport OutlineContext from './Context';\nimport OutlineContent from 'src/components/OutlineContent';\nimport DataElementWrapper from '../DataElementWrapper';\nimport Choice from '../Choice';\nimport Button from '../Button';\n\nimport './Outline.scss';\nimport '../../constants/bookmarksOutlinesShared.scss';\n\nconst propTypes = {\n  outline: PropTypes.object.isRequired,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst Outline = forwardRef(\n  function Outline(\n    {\n      outline,\n      setMultiSelected,\n      isDragging,\n      isDraggedUpwards,\n      isDraggedDownwards,\n      connectDragSource,\n      connectDragPreview,\n      connectDropTarget,\n      moveOutlineInward,\n      moveOutlineBeforeTarget,\n      moveOutlineAfterTarget\n    },\n    ref\n  ) {\n    const outlines = useSelector((state) => selectors.getOutlines(state));\n    const {\n      setActiveOutlinePath,\n      activeOutlinePath,\n      isOutlineActive,\n      setAddingNewOutline,\n      isAddingNewOutline,\n      isAnyOutlineRenaming,\n      isMultiSelectMode,\n      shouldAutoExpandOutlines,\n      isOutlineEditable,\n      selectedOutlines,\n      updateOutlines,\n    } = useContext(OutlineContext);\n\n    const outlinePath = outlineUtils.getPath(outline);\n\n    const [isExpanded, setIsExpanded] = useState(shouldAutoExpandOutlines);\n    const [isSelected, setIsSelected] = useState(selectedOutlines.includes(outlinePath));\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [isChangingDest, setChangingDest] = useState(false);\n    const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n    const [clearSingleClick, setClearSingleClick] = useState(undefined);\n\n    const dispatch = useDispatch();\n\n    const elementRef = useRef(null);\n    connectDragSource(elementRef);\n    connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n    connectDropTarget(elementRef);\n    const opacity = isDragging ? 0.5 : 1;\n    useImperativeHandle(ref, () => ({\n      getNode: () => elementRef.current,\n    }));\n\n    useEffect(() => {\n      const shouldExpandOutline =\n        activeOutlinePath !== null\n        && activeOutlinePath !== outlinePath\n        && activeOutlinePath.startsWith(outlinePath);\n      if (shouldExpandOutline) {\n        setIsExpanded(true);\n      }\n    }, [activeOutlinePath, isAddingNewOutline, outline]);\n\n    useLayoutEffect(() => {\n      setIsExpanded(shouldAutoExpandOutlines);\n    }, [shouldAutoExpandOutlines]);\n\n    useLayoutEffect(() => {\n      setIsRenaming(false);\n      setChangingDest(false);\n\n      if (isAddingNewOutline && activeOutlinePath === outlinePath) {\n        setIsExpanded(true);\n      }\n    }, [outlines]);\n\n    useEffect(() => {\n      setIsSelected(selectedOutlines.includes(outlinePath));\n    }, [selectedOutlines]);\n\n    const toggleOutline = useCallback(() => {\n      setIsExpanded((expand) => !expand);\n    }, []);\n\n    const onSingleClick = useCallback(() => {\n      core.goToOutline(outline);\n\n      outlinePath === activeOutlinePath\n        ? setActiveOutlinePath(null)\n        : setActiveOutlinePath(outlinePath);\n\n\n      if (isAddingNewOutline) {\n        setAddingNewOutline(false);\n        updateOutlines();\n      }\n\n      if (isMobile()) {\n        dispatch(actions.closeElement('leftPanel'));\n      }\n    }, [dispatch, setActiveOutlinePath, activeOutlinePath, isAddingNewOutline, outline]);\n\n    const isActive = isOutlineActive(outline);\n\n    const convertRgbObjectToRgbString = (rgbObject) => {\n      const rValue = rgbObject['r'] * 255;\n      const gValue = rgbObject['g'] * 255;\n      const bValue = rgbObject['b'] * 255;\n      return `rgb(${rValue}, ${gValue}, ${bValue})`;\n    };\n\n    return (\n      <div\n        ref={(!isAddingNewOutline && !isAnyOutlineRenaming && isMultiSelectMode && isOutlineEditable) ? elementRef : null}\n        className=\"outline-drag-container\"\n        style={{ opacity }}\n      >\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n        <DataElementWrapper\n          className={classNames({\n            'bookmark-outline-single-container': true,\n            'editing': isRenaming || isChangingDest,\n            'default': !isRenaming && !isChangingDest,\n            'selected': isActive,\n            'hover': isHovered && !isActive,\n          })}\n          tabIndex={0}\n          onKeyDown={(e) => e.key === 'Enter' && onSingleClick()}\n          onClick={(e) => {\n            if (!isRenaming && !isChangingDest && e.detail === 1) {\n              setClearSingleClick(setTimeout(onSingleClick, 300));\n            }\n          }}\n          onDoubleClick={() => {\n            if (!isRenaming && !isChangingDest) {\n              clearTimeout(clearSingleClick);\n            }\n          }}\n        >\n          {isMultiSelectMode &&\n            <Choice\n              type=\"checkbox\"\n              className=\"bookmark-outline-checkbox\"\n              id={`outline-checkbox-${outlinePath}`}\n              checked={isSelected}\n              onClick={(e) => e.stopPropagation()}\n              onChange={(e) => {\n                setIsSelected(e.target.checked);\n                setMultiSelected(outlinePath, e.target.checked);\n              }}\n            />\n          }\n\n          <div\n            className={classNames({\n              'outline-treeview-toggle': true,\n              expanded: isExpanded,\n            })}\n            style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12, display: isRenaming ? 'none' : 'block' }}\n          >\n            {outline.getChildren().length > 0 &&\n              <Button\n                img=\"icon-chevron-right\"\n                tabIndex={0}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleOutline();\n                }}\n              />\n            }\n          </div>\n\n          <OutlineContent\n            text={outline.getName()}\n            outlinePath={outlinePath}\n            isOutlineRenaming={isRenaming}\n            setOutlineRenaming={setIsRenaming}\n            isOutlineChangingDest={isChangingDest}\n            setOutlineChangingDest={setChangingDest}\n            setIsHovered={setHovered}\n            textColor={outline.color ? convertRgbObjectToRgbString(outline.color) : null}\n          />\n        </DataElementWrapper>\n\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n        {isExpanded &&\n          outline.getChildren().map((child) => (\n            <OutlineNested\n              outline={child}\n              key={outlineUtils.getOutlineId(child)}\n              setMultiSelected={setMultiSelected}\n              moveOutlineInward={moveOutlineInward}\n              moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n              moveOutlineAfterTarget={moveOutlineAfterTarget}\n            />\n          ))\n        }\n        {isAddingNewOutline && isActive && (\n          <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n            <div\n              className=\"outline-treeview-toggle\"\n              style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n            ></div>\n            <OutlineContent\n              isAdding={true}\n              text={''}\n              onCancel={() => setAddingNewOutline(false)}\n            />\n          </DataElementWrapper>\n        )}\n      </div>\n    );\n  }\n);\n\nOutline.propTypes = propTypes;\n\nconst OutlineNested = DropTarget(\n  ItemTypes.OUTLINE,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragOutline, dragSourceNode } = dragObject;\n      const { outline: dropOutline } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const outlineIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (outlineIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragIndex = dragOutline.index;\n      const hoverIndex = dropOutline.index;\n      if (dragOutline.parent === dropOutline.parent && dragIndex === hoverIndex) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.bottom - dropTargetBoundingRect.top) / 2;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y - dropTargetBoundingRect.top;\n      switch (true) {\n        case dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint + BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n      fireEvent(Events.DRAG_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragObject.dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragOutline, dropTargetNode } = dragObject;\n      const { outline: dropOutline, moveOutlineInward, moveOutlineBeforeTarget, moveOutlineAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          moveOutlineInward(dragOutline, dropOutline);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          moveOutlineBeforeTarget(dragOutline, dropOutline);\n          break;\n        case DropLocation.BELOW_TARGET:\n          moveOutlineAfterTarget(dragOutline, dropOutline);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      fireEvent(Events.DROP_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.OUTLINE,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragOutline: props.outline,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag() {\n      if (isIE) {\n        console.warn('Drag and drop outlines for IE11 is not supported');\n        return false;\n      }\n      if (!core.isFullPDFEnabled()) {\n        console.warn('Full API must be enabled to drag and drop outlines');\n        return false;\n      }\n      return true;\n    }\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(Outline));\n\nOutlineNested.propTypes = propTypes;\n\nexport default OutlineNested;\n","import Outline from './Outline';\n\nexport default Outline;\n","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const OutlinesDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItem = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragOutline } = item;\n\n    switch (itemType) {\n      case ItemTypes.OUTLINE:\n        return (\n          <>\n            {dragOutline.getName()}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useLayoutEffect, useRef, useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport OutlineControls from '../OutlineControls';\nimport Outline from 'components/Outline';\nimport OutlineContext from 'components/Outline/Context';\nimport Button from 'components/Button';\nimport OutlineContent from 'components/OutlineContent';\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport DataElements from 'constants/dataElement';\nimport defaultTool from 'constants/defaultTool';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './OutlinesPanel.scss';\nimport { OutlinesDragLayer } from './OutlinesDragLayer';\nimport classNames from 'classnames';\n\nconst OutlinesPanel = () => {\n  const [\n    isDisabled,\n    outlines,\n    outlineControlVisibility,\n    outlineEditingEnabled,\n    shouldAutoExpandOutlines,\n    currentPage,\n    pageLabels,\n    featureFlags,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.OUTLINE_PANEL),\n      selectors.getOutlines(state),\n      selectors.isOutlineControlVisible(state),\n      selectors.getOutlineEditingEnabled(state),\n      selectors.shouldAutoExpandOutlines(state),\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getFeatureFlags(state),\n    ],\n    shallowEqual,\n  );\n\n  const defaultDestText = 'Full Page';\n  const areaDestinationText = 'Area Selection';\n  const defaultDestCoord = { x: 0, y: 0 };\n\n  const [currentDestText, setCurrentDestText] = useState(defaultDestText);\n  const [currentDestCoord, setCurrentDestCoord] = useState(defaultDestCoord);\n  const [currentDestPage, setCurrentDestPage] = useState(currentPage);\n  const [isOutlineEditable, setOutlineEditable] = useState(false);\n  const [activeOutlinePath, setActiveOutlinePath] = useState(null);\n  const [isAddingNewOutline, setAddingNewOutline] = useState(false);\n  const [editingOutlines, setEditingOutlines] = useState({});\n  const [isAnyOutlineRenaming, setAnyOutlineRenaming] = useState(false);\n  const [isMultiSelectMode, setMultiSelectMode] = useState(false);\n  const [selectedOutlines, setSelectedOutlines] = useState([]);\n  const customizableUI = featureFlags.customizableUI;\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const nextPathRef = useRef(null);\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n  const tool = core.getTool(TOOL_NAME);\n  const panelRef = useRef();\n\n  useLayoutEffect(() => {\n    setAddingNewOutline(false);\n\n    if (nextPathRef.current !== null) {\n      setActiveOutlinePath(nextPathRef.current);\n      nextPathRef.current = null;\n    }\n\n    const shouldResetMultiSelectedMode = outlines.length === 0;\n    if (shouldResetMultiSelectedMode) {\n      setMultiSelectMode(false);\n    }\n  }, [outlines]);\n\n  useEffect(() => {\n    setOutlineEditable(core.isFullPDFEnabled() && outlineEditingEnabled);\n  }, [outlineEditingEnabled]);\n\n  useEffect(() => {\n    const isAnyEditing = Object.values(editingOutlines).some((value) => value);\n    setAnyOutlineRenaming(isAnyEditing);\n  }, [editingOutlines, outlines]);\n\n  useEffect(() => {\n    const onSetDestination = (annotation) => {\n      setCurrentDestText(annotation['IsText'] ? annotation.getCustomData('trn-annot-preview') : areaDestinationText);\n      setCurrentDestCoord({ x: annotation['X'], y: annotation['Y'] });\n      setCurrentDestPage(annotation['PageNumber']);\n    };\n\n    const onOutlinesBookmarksChanged = () => {\n      core.getOutlines((outlines) => {\n        dispatch(actions.setOutlines(outlines));\n      });\n    };\n\n    const onDocumentLoaded = () => {\n      setActiveOutlinePath(null);\n    };\n\n    core.addEventListener('outlineSetDestination', onSetDestination);\n    window.addEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => {\n      core.removeEventListener('outlineSetDestination', onSetDestination);\n      window.removeEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n    };\n  }, []);\n\n  useEffect(() => {\n    // deselect outlines when clicking inside of the outline panel\n    const handlePanelClick = (event) => {\n      if (event.target.classList.contains('bookmark-outline-row')) {\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      }\n    };\n\n    if (panelRef.current) {\n      panelRef.current.addEventListener('click', handlePanelClick);\n    }\n\n    return () => {\n      if (panelRef.current) {\n        panelRef.current.removeEventListener('click', handlePanelClick);\n      }\n    };\n  }, []);\n\n  const getCurrentDestViewerCoord = (pageNum, { x, y }) => {\n    const doc = core.getDocumentViewer().getDocument();\n    // convert annotation coordinates to viewerCoordinates because PDFNet used PDF coordinates\n    return doc.getViewerCoordinates(pageNum, x, y);\n  };\n\n  const addNewOutline = async (name) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    let outlineName = name;\n    if (![defaultDestText, areaDestinationText].includes(currentDestText) && !name) {\n      outlineName = currentDestText.slice(0, 40);\n    } else if (!name) {\n      outlineName = t('message.untitled');\n    }\n\n    const doc = core.getDocumentViewer().getDocument();\n\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    if (outlines.length === 0) {\n      await outlineUtils.addRootOutline(outlineName, currentDestPage, x, y, 0);\n    } else {\n      await outlineUtils.addNewOutline(outlineName, activeOutlinePath, currentDestPage, x, y, 0);\n    }\n\n    updateOutlines();\n  };\n\n  const updateOutlines = () => {\n    core.getOutlines((outlines) => {\n      dispatch(actions.setOutlines(outlines));\n    });\n    clearOutlineDestination();\n    setEditingOutlines({});\n  };\n\n  const getPath = (outline) => {\n    return outlineUtils.getPath(outline);\n  };\n\n  const clearOutlineDestination = () => {\n    core.setToolMode(defaultTool);\n    setCurrentDestText(defaultDestText);\n    setCurrentDestCoord(defaultDestCoord);\n    setCurrentDestPage(currentPage);\n    tool.clearOutlineDestination();\n  };\n\n  const updateOutlineDest = async (outlinePath) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    const doc = core.getDocumentViewer().getDocument();\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    await outlineUtils.setOutlineDestination(outlinePath, currentDestPage, x, y, 0);\n    nextPathRef.current = outlinePath;\n    updateOutlines();\n  };\n\n  useEffect(() => {\n    if (currentDestText === defaultDestText) {\n      setCurrentDestPage(currentPage);\n    }\n  }, [currentDestText, currentPage]);\n\n  useEffect(() => {\n    if (isAddingNewOutline) {\n      core.setToolMode(TOOL_NAME);\n    } else {\n      clearOutlineDestination();\n    }\n  }, [isAddingNewOutline]);\n\n  const generalMoveOutlineAction = (dragOutline, dropOutline, moveDirection) => {\n    const dragPath = getPath(dragOutline);\n    const dropPath = getPath(dropOutline);\n    setSelectedOutlines([]);\n\n    moveDirection.call(outlineUtils, dragPath, dropPath).then((path) => {\n      updateOutlines();\n      nextPathRef.current = path;\n    });\n    core.goToOutline(dragOutline);\n  };\n\n  const moveOutlineAfterTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineAfterTarget);\n  };\n\n  const moveOutlineBeforeTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineBeforeTarget);\n  };\n\n  const moveOutlineInward = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineInTarget);\n  };\n\n  const renameOutline = async (outlinePath, newName) => {\n    await outlineUtils.setOutlineName(outlinePath, newName);\n    updateOutlines();\n  };\n\n  const removeOutlines = async (outlinesToRemove) => {\n    outlinesToRemove.sort().reverse();\n    const confirmationWarning = {\n      message: t('warning.deleteOutline.message'),\n      title: t('warning.deleteOutline.title'),\n      confirmBtnText: t('action.delete'),\n      onConfirm: async () => {\n        for (let i = 0; i < outlinesToRemove.length; i++) {\n          const fullIndex = outlinesToRemove[i];\n          await outlineUtils.deleteOutline(fullIndex);\n        }\n        updateOutlines();\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      },\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={classNames('Panel OutlinesPanel bookmark-outline-panel', { 'modular-ui-panel': customizableUI })}\n      data-element={DataElements.OUTLINE_PANEL} ref={panelRef}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.outlinesPanel')}\n        </div>\n        {isOutlineEditable &&\n          (isMultiSelectMode ?\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.done')}\n              disabled={isAddingNewOutline}\n              onClick={() => setMultiSelectMode(false)}\n            />\n            :\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.edit')}\n              disabled={isAddingNewOutline || outlines.length === 0}\n              onClick={() => {\n                setMultiSelectMode(true);\n                setSelectedOutlines([]);\n              }}\n            />\n          )\n        }\n      </div>\n      <OutlineContext.Provider\n        value={{\n          currentDestPage: pageLabels[currentDestPage - 1],\n          currentDestText,\n          setActiveOutlinePath,\n          activeOutlinePath,\n          isOutlineActive: (outline) => getPath(outline) === activeOutlinePath,\n          setAddingNewOutline,\n          isAddingNewOutline,\n          setEditingOutlines,\n          editingOutlines,\n          selectedOutlines,\n          isAnyOutlineRenaming,\n          isMultiSelectMode,\n          shouldAutoExpandOutlines,\n          isOutlineEditable,\n          addNewOutline,\n          updateOutlines,\n          renameOutline,\n          updateOutlineDest,\n          removeOutlines,\n        }}\n      >\n        {outlineControlVisibility && <OutlineControls />}\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <OutlinesDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {!isAddingNewOutline && outlines.length === 0 &&\n              <div className=\"msg msg-no-bookmark-outline\">{t('message.noOutlines')}</div>\n            }\n            {outlines.map((outline) => (\n              <Outline\n                key={outlineUtils.getOutlineId(outline)}\n                outline={outline}\n                setMultiSelected={(path, value) => {\n                  if (selectedOutlines.find((outline) => outline === path)) {\n                    if (!value) {\n                      setSelectedOutlines(selectedOutlines.filter((outline) => outline !== path));\n                    }\n                  } else {\n                    if (value) {\n                      setSelectedOutlines([...selectedOutlines, path]);\n                    }\n                  }\n                }}\n                moveOutlineInward={moveOutlineInward}\n                moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n                moveOutlineAfterTarget={moveOutlineAfterTarget}\n              />\n            ))}\n            {isAddingNewOutline && activeOutlinePath === null && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <OutlineContent\n                  isAdding={true}\n                  text={''}\n                  onCancel={() => setAddingNewOutline(false)}\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n\n        {isOutlineEditable &&\n          <DataElementWrapper\n            className=\"bookmark-outline-footer\"\n            dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON_CONTAINER}\n          >\n            {isMultiSelectMode ?\n              <>\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-menu-add\"\n                  disabled={selectedOutlines.length > 0 || isAddingNewOutline}\n                  onClick={() => setAddingNewOutline(true)}\n                />\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-delete-line\"\n                  disabled={selectedOutlines.length === 0}\n                  onClick={() => removeOutlines(selectedOutlines)}\n                />\n              </>\n              :\n              <Button\n                className=\"bookmark-outline-control-button add-new-button\"\n                img=\"icon-menu-add\"\n                dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON}\n                disabled={isAddingNewOutline}\n                label={`${t('action.add')} ${t('component.outlinePanel')}`}\n                onClick={() => setAddingNewOutline(true)}\n              />\n            }\n          </DataElementWrapper>\n        }\n      </OutlineContext.Provider>\n    </div>\n  );\n};\n\nexport default React.memo(OutlinesPanel);\n","import OutlinesPanel from './OutlinesPanel';\n\nexport default OutlinesPanel;\n"],"sourceRoot":""}