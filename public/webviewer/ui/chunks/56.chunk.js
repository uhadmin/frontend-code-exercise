(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1763:function(t,e,o){var n=o(30),a=o(1764);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:function(t){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(t);let e;e=document.getElementsByTagName("apryse-webviewer"),e.length||(e=function t(e,o=document){const n=[];return o.querySelectorAll(e).forEach(t=>n.push(t)),o.querySelectorAll("*").forEach(o=>{o.shadowRoot&&n.push(...t(e,o.shadowRoot))}),n}("apryse-webviewer"));const o=[];for(let n=0;n<e.length;n++){const a=e[n];if(0===n)a.shadowRoot.appendChild(t),t.onload=function(){o.length>0&&o.forEach(e=>{e.innerHTML=t.innerHTML})};else{const e=t.cloneNode(!0);a.shadowRoot.appendChild(e),o.push(e)}}},singleton:!1};n(a,i);t.exports=a.locals||{}},1764:function(t,e,o){(e=t.exports=o(31)(!1)).push([t.i,".open.CalibrationModal{visibility:visible}.closed.CalibrationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.CalibrationModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.CalibrationModal .modal-container .wrapper .modal-content{padding:10px}.CalibrationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.CalibrationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.CalibrationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.CalibrationModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.CalibrationModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.CalibrationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.CalibrationModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.CalibrationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.CalibrationModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .footer .modal-button{padding:23px 8px}}.CalibrationModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .swipe-indicator{display:none}}.CalibrationModal .container{border-radius:4px;overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .CalibrationModal .container,.CalibrationModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container,.CalibrationModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.CalibrationModal .container{display:flex;flex-direction:column;min-width:400px;box-shadow:0 0 3px 0 var(--document-box-shadow);padding:8px;background:var(--component-background)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container{padding:24px 24px 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container{padding:24px 24px 16px}}.CalibrationModal .container .calibration__header{font-size:16px;margin-top:8px;margin-bottom:8px}.CalibrationModal .container .calibration__body{padding-top:8px}.CalibrationModal .container .calibration__body .calibration__input{margin-top:8px;display:flex;flex-direction:row;justify-content:space-between}.CalibrationModal .container .calibration__body input{width:100%;height:30px;font-size:13px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 42px 6px 8px;margin-right:8px}.CalibrationModal .container .calibration__body input:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body input::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body input::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .error{border:1px solid var(--error-border-color)}.CalibrationModal .container .calibration__body .unitToInput{height:29px;width:45px;border-radius:5px;border:1px solid var(--border);font-size:13px}.CalibrationModal .container .calibration__body .unitToInput:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body .unitToInput::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .unitToInput::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .errorMeasurement{font-size:13px;margin-top:8px;margin-bottom:8px;color:var(--error-text-color);max-width:400px}.CalibrationModal .container .calibration__footer{display:flex;justify-content:flex-end;margin-top:8px}.CalibrationModal .container .calibration__footer .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);font-weight:600;padding:6px 18px;margin-top:8px;margin-left:5px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .container .calibration__footer .Button:hover{background:var(--primary-button-hover)}",""]),e.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1869:function(t,e,o){"use strict";o.r(e);o(393),o(157),o(143),o(17),o(1761),o(25),o(40),o(19),o(12),o(14),o(8),o(13),o(9),o(10),o(11),o(16),o(15),o(20);var n=o(0),a=o.n(n),i=o(18),r=o.n(i),l=o(6),d=o(387),c=o(42),p=o(1),s=o(39),u=o(187);function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,i,r,l=[],d=!0,c=!1;try{if(i=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;d=!1}else for(;!(d=(n=i.call(o)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(t){c=!0,a=t}finally{try{if(!d&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(c)throw a}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var f=function(t){var e=b(t.split("/"),2),o=e[0],n=e[1];return Number(o)/Number(n)},x=o(2),h=o(3),y=o(144),v=o(5);o(1763);function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,i,r,l=[],d=!0,c=!1;try{if(i=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;d=!1}else for(;!(d=(n=i.call(o)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(t){c=!0,a=t}finally{try{if(!d&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(c)throw a}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var M=function(t){var e=t.Measure.axis[0].factor;switch(t.Scale[1][1]){case"ft-in":return t.getLineLength()*e/12;case"in":default:return t.getLineLength()*e}},C=/^\d*(\.\d*)?$/,A=/^\d*(\s\d\/\d*)$/,_=/^(\d\/\d*)*$/,E=function(){var t=w(Object(l.e)((function(t){return[h.a.isElementOpen(t,v.a.CALIBRATION_MODAL),h.a.isElementDisabled(t,v.a.CALIBRATION_MODAL),h.a.getMeasurementUnits(t)]}),l.c),3),e=t[0],o=t[1],i=t[2],b=Object(l.d)(),m=w(Object(n.useState)(null),2),g=m[0],E=m[1],k=w(Object(n.useState)(""),2),O=k[0],S=k[1],j=w(Object(n.useState)(0),2),I=j[0],N=j[1],L=w(Object(n.useState)(""),2),T=L[0],D=L[1],R=w(Object(n.useState)(!1),2),z=R[0],F=R[1],B=w(Object(d.a)(),1)[0],H=Object(n.useRef)(null);Object(n.useEffect)((function(){var t;e&&(null==H||null===(t=H.current)||void 0===t||t.focus()),$(p.a.getSelectedAnnotations())}),[e]),Object(n.useEffect)((function(){var t=function(t,e){"selected"===e?$(t):"deselected"===e&&(E(null),S(""),D(""),N(0))};return p.a.addEventListener("annotationSelected",t),function(){return p.a.removeEventListener("annotationSelected",t)}}),[]),Object(n.useEffect)((function(){var t=function(t,e){"modify"===e&&1===t.length&&t[0]===g&&(S(M(g).toFixed(2)),D(g.Scale[1][1]))};return p.a.addEventListener("annotationChanged",t),function(){return p.a.removeEventListener("annotationChanged",t)}}),[g]);var $=function(t){if(1===(null==t?void 0:t.length)&&"distanceMeasurement"===Object(s.g)(t[0])){var e=t[0];E(e);var o=M(e).toFixed(2);S(o),D(e.Scale[1][1]),N(parseFloat(o))}},U=function(t){return g.Scale=t,W()},W=function(){var t=M(g),e=I/t,o=g.Scale;return[[o[0][0],o[0][1]],[o[1][0]*e,T]]},q=function(){b(x.a.closeElements([v.a.CALIBRATION_MODAL]))};return o||!g?null:a.a.createElement(y.a,{onSwipedUp:q,onSwipedDown:q,preventDefaultTouchmoveEvent:!0},a.a.createElement("div",{className:r()({Modal:!0,CalibrationModal:!0,open:e,closed:!e}),onMouseDown:q}," ",a.a.createElement("div",{className:"container",onMouseDown:function(t){return t.stopPropagation()}},a.a.createElement("div",{className:"swipe-indicator"}),a.a.createElement("div",{className:"calibration__header"},B("component.calibration")),a.a.createElement("div",{className:"calibration__body"},a.a.createElement("div",null,B("message.enterMeasurement")),a.a.createElement("div",{className:"calibration__input"},a.a.createElement("input",{className:z?"error":"",ref:H,type:"text",value:O,onChange:function(t){F(!1),S(t.target.value)},onBlur:function(t){var e=t.target.value.trim();if(""===e&&F(!0),C.test(e))0!==parseFloat(e)?(N(parseFloat(e)),S(e)):F(!0);else if(A.test(e)){var o=w(e.split(" "),2),n=o[0],a=o[1];if(Number.isFinite(f(a))){var i=Number(n)+f(a);N(parseFloat(i)),S(i)}else F(!0)}else if(_.test(e))if(Number.isFinite(f(e))){var r=f(e);N(parseFloat(r)),S(r)}else F(!0);else F(!0)}}),a.a.createElement("select",{className:"unitToInput",value:T,onChange:function(t){D(t.target.value)}},i.to.map((function(t){return a.a.createElement("option",{key:t,value:t},t)})))),z?a.a.createElement("div",{className:"errorMeasurement"},B("message.errorEnterMeasurement")):null),a.a.createElement("div",{className:"calibration__footer"},a.a.createElement(c.a,{dataElement:"passwordSubmitButton",label:B("action.apply"),onClick:function(){var t=W(),e=U(t);p.a.setAnnotationStyles(g,{Scale:e}),Object(u.a)("AnnotationCreateDistanceMeasurement","Scale",e),b(x.a.closeElements([v.a.CALIBRATION_MODAL]))},disabled:z})))))};e.default=E}}]);
//# sourceMappingURL=56.chunk.js.map