/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{578:function(xa,ta,h){h.r(ta);var pa=h(0),qa=h(1);h.n(qa);var na=h(3),ja=h(194);xa=h(58);var ka=h(121),ha=h(325),x=h(100),aa=h(324);h=h(492);var r=window,n=function(){function b(e,w,ba){var y=-1===e.indexOf("?")?"?":"&";switch(w){case x.a.NEVER_CACHE:this.url="".concat(e+y,"_=").concat(Object(qa.uniqueId)());break;default:this.url=e}this.Lf=ba;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=aa.a.NOT_STARTED}b.prototype.start=function(e,w){var ba=this,y=this,ea=this.request,z;y.WD=0;e&&Object.keys(e).forEach(function(fa){ba.request.setRequestHeader(fa,e[fa])});w&&(this.request.withCredentials=w);this.xM=setInterval(function(){var fa=0===window.document.URL.indexOf("file:///");fa=200===ea.status||
fa&&0===ea.status;if(ea.readyState!==aa.b.DONE||fa){try{ea.responseText}catch(ca){return}y.WD<ea.responseText.length&&(z=y.ODa())&&y.trigger(b.Events.DATA,[z]);0===ea.readyState&&(clearInterval(y.xM),y.trigger(b.Events.DONE))}else clearInterval(y.xM),y.trigger(b.Events.DONE,["Error received return status ".concat(ea.status)])},1E3);this.request.send(null);this.status=aa.a.STARTED};b.prototype.ODa=function(){var e=this.request,w=e.responseText;if(0!==w.length)if(this.WD===w.length)clearInterval(this.xM),
this.trigger(b.Events.DONE);else return w=Math.min(this.WD+3E6,w.length),e=r.m7(e,this.WD,!0,w),this.WD=w,e};b.prototype.abort=function(){clearInterval(this.xM);var e=this;this.request.onreadystatechange=function(){Object(na.j)("StreamingRequest aborted");e.status=aa.a.ABORTED;return e.trigger(b.Events.ABORTED)};this.request.abort()};b.prototype.finish=function(){var e=this;this.request.onreadystatechange=function(){e.status=aa.a.SUCCESS;return e.trigger(b.Events.DONE)};this.request.abort()};b.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return b}();Object(xa.a)(n);var f;(function(b){b[b.LOCAL_HEADER=0]="LOCAL_HEADER";b[b.FILE=1]="FILE";b[b.CENTRAL_DIR=2]="CENTRAL_DIR"})(f||(f={}));var a=function(b){function e(){var w=b.call(this)||this;w.buffer="";w.state=f.LOCAL_HEADER;w.uY=4;w.Vp=null;w.Yy=ja.c;w.Mr={};return w}Object(pa.c)(e,b);e.prototype.EDa=function(w){var ba;for(w=this.buffer+w;w.length>=this.Yy;)switch(this.state){case f.LOCAL_HEADER:this.Vp=ba=this.SDa(w.slice(0,this.Yy));if(ba.Mz!==
ja.g)throw Error("Wrong signature in local header: ".concat(ba.Mz));w=w.slice(this.Yy);this.state=f.FILE;this.Yy=ba.JQ+ba.cv+ba.yC+this.uY;this.trigger(e.Events.HEADER,[ba]);break;case f.FILE:this.Vp.name=w.slice(0,this.Vp.cv);this.Mr[this.Vp.name]=this.Vp;ba=this.Yy-this.uY;var y=w.slice(this.Vp.cv+this.Vp.yC,ba);this.trigger(e.Events.FILE,[this.Vp.name,y,this.Vp.dR]);w=w.slice(ba);if(w.slice(0,this.uY)===ja.h)this.state=f.LOCAL_HEADER,this.Yy=ja.c;else return this.state=f.CENTRAL_DIR,!0}this.buffer=
w;return!1};e.Events={HEADER:"header",FILE:"file"};return e}(ha.a);Object(xa.a)(a);xa=function(b){function e(w,ba,y,ea,z){y=b.call(this,w,y,ea)||this;y.url=w;y.stream=new n(w,ba);y.Pe=new a;y.Faa=window.createPromiseCapability();y.kba={};y.Lf=z;return y}Object(pa.c)(e,b);e.prototype.cF=function(w){var ba=this;this.request([this.rm,this.wo,this.qm]);this.stream.addEventListener(n.Events.DATA,function(y){try{if(ba.Pe.EDa(y))return ba.stream.finish()}catch(ea){throw ba.stream.abort(),ba.qu(ea),w(ea),
ea;}});this.stream.addEventListener(n.Events.DONE,function(y){ba.aDa=!0;ba.Faa.resolve();y&&(ba.qu(y),w(y))});this.Pe.addEventListener(a.Events.HEADER,Object(qa.bind)(this.jba,this));this.Pe.addEventListener(a.Events.FILE,Object(qa.bind)(this.iEa,this));return this.stream.start(this.Lf,this.withCredentials)};e.prototype.f7=function(w){var ba=this;this.Faa.promise.then(function(){w(Object.keys(ba.Pe.Mr))})};e.prototype.Es=function(){return!0};e.prototype.request=function(w){var ba=this;this.aDa&&w.forEach(function(y){ba.kba[y]||
ba.tKa(y)})};e.prototype.jba=function(){};e.prototype.abort=function(){this.stream&&this.stream.abort()};e.prototype.tKa=function(w){this.trigger(ka.a.Events.PART_READY,[{Lb:w,error:"Requested part not found",rl:!1,ki:!1}])};e.prototype.iEa=function(w,ba,y){this.kba[w]=!0;this.trigger(ka.a.Events.PART_READY,[{Lb:w,data:ba,rl:!1,ki:!1,error:null,qe:y}])};return e}(ka.a);Object(h.a)(xa);Object(h.b)(xa);ta["default"]=xa}}]);}).call(this || window)
