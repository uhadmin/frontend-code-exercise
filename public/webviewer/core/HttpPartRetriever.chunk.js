/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{569:function(xa,ta,h){h.r(ta);h.d(ta,"ByteRangeRequest",function(){return w});var pa=h(0),qa=h(1);h.n(qa);var na=h(3),ja=h(194);xa=h(121);var ka=h(325),ha=h(95),x=h(100),aa=h(324),r=h(216);h=h(492);var n=[],f=[],a=window,b=function(){return function(){this.nq=1}}(),e;(function(y){y[y.UNSENT=0]="UNSENT";y[y.DONE=4]="DONE"})(e||(e={}));var w=function(){function y(ea,z,fa,ca){var ma=this;this.url=ea;this.range=z;this.Lf=fa;this.withCredentials=
ca;this.Fia=e;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");ca&&(this.request.withCredentials=ca);ba.DISABLE_RANGE_HEADER||(Object(qa.isUndefined)(z.stop)?this.request.setRequestHeader("Range","bytes=".concat(z.start)):this.request.setRequestHeader("Range",["bytes=",z.start,"-",z.stop-1].join("")));fa&&Object.keys(fa).forEach(function(la){ma.request.setRequestHeader(la,fa[la])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=aa.a.NOT_STARTED}y.prototype.start=function(ea){var z=this,fa=this.request;fa.onreadystatechange=function(){if(z.aborted)return z.status=aa.a.ABORTED,ea({code:aa.a.ABORTED});if(this.readyState===z.Fia.DONE){z.xK();var ca=0===window.document.URL.indexOf("file:///");200===fa.status||206===fa.status||ca&&0===fa.status?(ca=a.m7(this),z.DY(ca,ea)):(z.status=aa.a.ERROR,ea({code:z.status,status:z.status}))}};this.request.send(null);
this.status=aa.a.STARTED};y.prototype.DY=function(ea,z){this.status=aa.a.SUCCESS;if(z)return z(!1,ea)};y.prototype.abort=function(){this.xK();this.aborted=!0;this.request.abort()};y.prototype.xK=function(){var ea=Object(r.c)(this.url,this.range,f);-1!==ea&&f.splice(ea,1);if(0<n.length){ea=n.shift();var z=new y(ea.url,ea.range,this.Lf,this.withCredentials);ea.request=z;f.push(ea);z.start(Object(r.d)(ea))}};y.prototype.extend=function(ea){var z=Object.assign({},this,ea.prototype);z.constructor=ea;return z};
return y}(),ba=function(y){function ea(z,fa,ca,ma,la){ca=y.call(this,z,ca,ma)||this;ca.am={};ca.EI=fa;ca.url=z;ca.DISABLE_RANGE_HEADER=!1;ca.QE=w;ca.XZ=3;ca.Lf=la||{};return ca}Object(pa.c)(ea,y);ea.prototype.dC=function(z,fa,ca){var ma=-1===z.indexOf("?")?"?":"&";switch(ca){case !1:case x.a.NEVER_CACHE:z="".concat(z+ma,"_=").concat(Object(qa.uniqueId)());break;case !0:case x.a.CACHE:z="".concat(z+ma,"_=").concat(fa.start,",").concat(Object(qa.isUndefined)(fa.stop)?"":fa.stop)}return z};ea.prototype.q4=
function(z,fa,ca,ma){void 0===ca&&(ca={});return new this.QE(z,fa,ca,ma)};ea.prototype.Nsa=function(z,fa,ca,ma,la){for(var ia=0;ia<n.length;ia++)if(Object(qa.isEqual)(n[ia].range,fa)&&Object(qa.isEqual)(n[ia].url,z))return n[ia].Zi.push(ma),n[ia].TL++,null;for(ia=0;ia<f.length;ia++)if(Object(qa.isEqual)(f[ia].range,fa)&&Object(qa.isEqual)(f[ia].url,z))return f[ia].Zi.push(ma),f[ia].TL++,null;ca={url:z,range:fa,EI:ca,Zi:[ma],TL:1};if(0===n.length&&f.length<this.XZ)return f.push(ca),ca.request=this.q4(z,
fa,la,this.withCredentials),ca;n.push(ca);return null};ea.prototype.rs=function(z,fa,ca){var ma=this.dC(z,fa,this.EI);(z=this.Nsa(ma,fa,this.EI,ca,this.Lf))&&z.request.start(Object(r.d)(z));return function(){var la=Object(r.c)(ma,fa,f);if(-1!==la){var ia=--f[la].TL;0===ia&&f[la].request&&f[la].request.abort()}else la=Object(r.c)(ma,fa,n),-1!==la&&(ia=--n[la].TL,0===ia&&n.splice(la,1))}};ea.prototype.F6=function(){return{start:-ja.a}};ea.prototype.Cxa=function(){var z=-(ja.a+ja.e);return{start:z-ja.d,
end:z}};ea.prototype.Ty=function(z){var fa=this;this.NI=!0;var ca=ja.a;this.rs(this.url,this.F6(),function(ma,la,ia){function ra(){var oa=fa.Pe.C6();fa.rs(fa.url,oa,function(sa,ua){if(sa)return Object(na.j)("Error loading central directory: ".concat(sa)),z(sa);ua=Object(ha.a)(ua);if(ua.length!==oa.stop-oa.start)return z("Invalid XOD file: Zip central directory data is wrong size! Should be ".concat(oa.stop-oa.start," but is ").concat(ua.length));fa.Pe.aba(ua);fa.VQ=!0;fa.NI=!1;return z(!1)})}if(ma)return Object(na.j)("Error loading end header: ".concat(ma)),
z(ma,la,ia);la=Object(ha.a)(la);if(la.length!==ca)return z("Invalid XOD file: Zip end header data is wrong size!");try{fa.Pe=new ka.a(la)}catch(oa){return z(oa)}fa.Pe.$za?fa.rs(fa.url,fa.Cxa(),function(oa,sa){if(oa)return Object(na.j)("Error loading zip64 header: ".concat(oa)),z(oa);sa=Object(ha.a)(sa);fa.Pe.DAa(sa);ra()}):ra()})};ea.prototype.f7=function(z){z(Object.keys(this.Pe.Mr))};ea.prototype.MW=function(z,fa){var ca=this;if(this.Pe.Z3(z)){var ma=this.Pe.TC(z);if(ma in this.am){var la=this.yj[z];
la.ax=this.am[ma];la.ax.nq++;la.cancel=la.ax.cancel}else{var ia=this.Pe.kva(z),ra=this.rs(this.url,ia,function(sa,ua){sa?(Object(na.j)('Error loading part "'.concat(z,'": ').concat(sa)),ca.rs(ca.url,ia,function(wa,Ba){if(wa)return fa(wa,z);ca.eba(Ba,ia,ma,z,fa)})):ca.eba(ua,ia,ma,z,fa)}),oa=this.yj[z];oa&&(oa.$da=!0,oa.cancel=function(){oa.ax.nq--;0===oa.ax.nq&&(ra(),delete ca.am[ma])},this.am[ma]=new b(ma),oa.ax=this.am[ma],oa.ax.cancel=oa.cancel)}}else delete this.yj[z],fa(Error('File not found: "'.concat(z,
'"')),z)};ea.prototype.eba=function(z,fa,ca,ma,la){if(z.length!==fa.stop-fa.start)la(Error("Part data is wrong size!"),ma);else{do{if(!this.am[ca])return;ma=this.am[ca].nq;for(var ia=fa.qv.length,ra=0;ra<ia;++ra){var oa=fa.qv[ra];la(!1,oa.nv,z["string"===typeof z?"substring":"subarray"](oa.start,oa.stop),this.Pe.D8(oa.nv));oa.nv in this.yj&&delete this.yj[oa.nv]}}while(ma!==this.am[ca].nq);delete this.am[ca]}};ea.DISABLE_RANGE_HEADER=!1;ea.XZ=3;return ea}(xa.a);(function(y){function ea(z,fa,ca){var ma=
y.call(this)||this,la;for(la in z)ma[la]=z[la];ma.BPa=z;ma.startOffset=fa;ma.endOffset=ca;ma.q4=function(ia,ra,oa,sa){Object(qa.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ia=ma.dC(ma.url,ra,ma.EI);return new z.QE(ia,ra,oa,sa)};return ma}Object(pa.c)(ea,y);return ea})(ba);Object(h.a)(ba);Object(h.b)(ba);ta["default"]=ba}}]);}).call(this || window)
